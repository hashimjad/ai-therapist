<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A safe space to talk ðŸ’¬ (Test Phase)</title>

  <style>
  body {
    font-family: Arial, sans-serif;
    background: #f5f5f5;
    margin: 0;
    padding: 0;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .chat-container {
    width: 100%;
    max-width: 600px;
    background: white;
    padding: 16px;
    border-radius: 12px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    box-sizing: border-box;
    margin: 16px;
  }

  h2 {
    text-align: center;
    margin-top: 0;
  }

  .message {
    margin-bottom: 12px;
    line-height: 1.4;
  }

  textarea {
    width: 100%;
    height: 100px;
    padding: 12px;
    font-size: 16px;
    box-sizing: border-box;
    border-radius: 8px;
    border: 1px solid #ccc;
  }

  button {
    margin-top: 12px;
    width: 100%;
    padding: 14px;
    font-size: 16px;
    background: #4CAF50;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
  }

  button:hover {
    background: #45a049;
  }

  .disclaimer {
    font-size: 12px;
    color: #777;
    margin-top: 16px;
    text-align: center;
  }
</style>
</head>

<body>
  <div class="chat-container">
    <h2>A safe space to talk ðŸ’¬ (Test Phase)</h2>

    <div id="chat"></div>

    <textarea id="userInput" placeholder="Whatâ€™s going on right now?"></textarea>
    <button onclick="sendMessage()">Send</button>

    <div class="disclaimer">
      This isnâ€™t a replacement for professional care â€” just a supportive space to talk.
    </div>
  </div>

  <script>
    const API_KEY = "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";

    const chat = document.getElementById("chat");
    const userInput = document.getElementById("userInput");

    function addMessage(sender, text) {
      const div = document.createElement("div");
      div.className = "message";

      if (sender === "You") {
        div.innerHTML = "<span class='user'>You:</span> " + text;
      } else {
        div.innerHTML = "<span class='bot'>AI Support:</span> " + text;
      }

      chat.appendChild(div);
      chat.scrollTop = chat.scrollHeight;
    }

    async function sendMessage() {
      const text = userInput.value.trim();
      if (!text) return;

      addMessage("You", text);
      userInput.value = "";

      const response = await fetch("https://api.groq.com/openai/v1/chat/completions", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": "Bearer " + API_KEY
        },
        body: JSON.stringify({
          model: "llama-3.1-8b-instant",
          messages: [
            {
              role: "system",
              content: "You are an AI that offers supportive, therapeutic-style conversations. You are not a licensed therapist and do not replace professional mental health care. You speak like a calm, emotionally intelligent best friend who also deeply understands psychology, the human mind, emotions, and behavior, grounded in science and research. You donâ€™t show off knowledge, but you use it quietly to respond with clarity, insight, and care. Your tone is warm, present, and slightly casual â€” never cold, never overly cheerful. Use simple, natural language, contractions, and short, clear paragraphs. Sound human, thoughtful, and attentive. Your role is to listen closely, reflect what the person is feeling (even when they struggle to name it), validate their emotional experience, and help them feel genuinely heard. Ask gentle, meaningful questions that invite reflection rather than push for answers. You do not diagnose, label conditions, or present yourself as a replacement for therapy. You avoid giving direct advice unless the user clearly asks for it. When helpful, you may explain emotional patterns or mental processes in a grounded, accessible way, without jargon. Your goal is to help the user feel understood, less alone, and a little clearer than before."
            },
            {
              role: "user",
              content: text
            }
          ],
          temperature: 0.7
        })
      });

      if (!response.ok) {
  addMessage("Therapist", "Something went wrong. Please check the console.");
  console.error(await response.text());
  return;
}

const data = await response.json();

if (!data.choices || !data.choices[0]) {
  addMessage("Therapist", "No response from AI.");
  console.error(data);
  return;
}

const reply = data.choices[0].message.content;
addMessage("Therapist", reply);

    }
  </script>
</body>
</html>










